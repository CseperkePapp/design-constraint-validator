<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Larissa Design Lab</title>
		<link rel="stylesheet" href="../dist/tokens.css" />
		<style>
			:root { font-family: var(--typography-font-sans); }
			body { margin:0; padding: var(--size-spacing-6); background: var(--color-role-bg-surface); color: var(--color-role-text-default); display:grid; gap: clamp(var(--size-spacing-4),2vw,var(--size-spacing-6)); }
			header h1 { margin:0 0 var(--size-spacing-2); font: var(--typography-weight-semibold) 2.4rem/var(--typography-lineheight-tight) var(--typography-font-sans); }
			h2 { margin:0 0 var(--size-spacing-3); font: var(--typography-weight-medium) 1rem/var(--typography-lineheight-tight) var(--typography-font-sans); letter-spacing:.05em; text-transform:uppercase; }
			section { display:grid; gap: var(--size-spacing-4); }
			.grid { display:grid; gap: var(--size-spacing-3); grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); }
			.card { display:grid; gap: var(--size-spacing-2); padding: var(--size-spacing-3); border: var(--size-border-1) solid color-mix(in oklch, var(--color-role-text-default) 14%, transparent); border-radius: var(--size-radius-md); background: var(--color-role-bg-elevated, var(--color-palette-gray-50)); box-shadow: var(--elevation-1); }
			code { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size:.65rem; }
			.chip { inline-size:100%; block-size:3rem; border-radius: var(--size-radius-md); }
			.panel { padding: var(--size-spacing-4); background: color-mix(in oklch,var(--color-role-accent-default) 10%, transparent); border-radius: var(--size-radius-md); display:grid; gap: var(--size-spacing-3); }
			.controls { display:flex; flex-wrap:wrap; gap: var(--size-spacing-3); align-items:center; }
			label { display:grid; gap: var(--size-spacing-2); font-size:.65rem; font-weight: var(--typography-weight-medium); text-transform:uppercase; letter-spacing:.05em; }
			input[type=range] { inline-size:180px; }
			button { font: var(--typography-weight-medium) var(--typography-size-sm)/var(--typography-lineheight-tight) var(--typography-font-sans); padding: var(--size-spacing-2-5) var(--size-spacing-4); border:none; border-radius: var(--size-radius-md); background: var(--color-role-accent-default); color: var(--color-role-on-accent); cursor:pointer; transition: background var(--motion-duration-fast) var(--motion-easing-standard); }
			button:hover { background: var(--color-role-accent-hover); }
			footer { font-size: var(--typography-size-sm); color: var(--color-role-text-muted); }
			@media (min-width: 70rem) { body { grid-template-columns: 1fr 320px; } aside { position:sticky; top:0; align-self:start; height:fit-content; } }
		</style>
	</head>
	<body>
		<main style="display:grid; gap: var(--size-spacing-6);">
			<header>
				<h1>Larissa Design Lab</h1>
				<p style="margin:0; max-width:60ch;">Interactive proof: adjust derived role values locally and observe live UI adaptation—no raw pixel/hex literals outside tokens.</p>
			</header>

			<section>
				<h2>Palette & Role Tokens</h2>
				<div id="colorGrid" class="grid"></div>
			</section>

			<section>
				<h2>Spacing Scale</h2>
				<div id="spacing" class="grid" style="grid-template-columns:repeat(auto-fit,minmax(100px,1fr));"></div>
			</section>

			<section>
				<h2>Live Overrides (Ephemeral)</h2>
				<div class="panel">
					<div class="controls">
						<label> Accent L (Lightness)
							<input id="ovL" type="range" min="0.45" max="0.8" step="0.01" value="0.62" />
						</label>
						<label> Accent C (Chroma)
							<input id="ovC" type="range" min="0.05" max="0.24" step="0.01" value="0.18" />
						</label>
						<label> Accent H (Hue)
							<input id="ovH" type="range" min="200" max="320" step="1" value="260" />
						</label>
						<button id="reset" type="button">Reset</button>
					</div>
					<p style="margin:0; font-size:.7rem;">Overrides patch <code>--color-role-accent-*</code> only (not persisted). Copy values & commit via CLI for permanence.</p>
				</div>
			</section>
			<footer>Larissa tokens → CSS custom properties → UI. No stray magic numbers.</footer>
		</main>
		<aside style="display:grid; gap: var(--size-spacing-4);">
			<h2 style="margin:0;">Preview</h2>
			<div style="display:grid; gap: var(--size-spacing-3);">
				<h3 id="previewTitle" style="margin:0; font: var(--typography-weight-semibold) 1.4rem/var(--typography-lineheight-tight) var(--typography-font-sans);">Preview Heading</h3>
				<p style="margin:0; max-width:32ch; font: var(--typography-weight-regular) var(--typography-size-base)/var(--typography-lineheight-base) var(--typography-font-sans); color: var(--color-role-text-muted);">Body copy reflects typography + color role tokens. Adjust accent sliders to see component state impact.</p>
				<button style="justify-self:start;">Primary Action</button>
			</div>
		</aside>
		<script>
			const root=document.documentElement;
			const palette = [
				'--color-palette-brand-600','--color-palette-brand-700','--color-palette-gray-0','--color-palette-gray-50','--color-palette-gray-900'
			];
			const roles = [
				'--color-role-accent-default','--color-role-accent-hover','--color-role-text-default','--color-role-text-muted','--color-role-bg-surface','--color-role-bg-elevated','--color-role-focus-ring'
			];
			const colorGrid=document.getElementById('colorGrid');
			function cell(name){
				const v=getComputedStyle(root).getPropertyValue(name).trim();
				const d=document.createElement('div'); d.className='card';
				const chip=document.createElement('div'); chip.className='chip'; chip.style.background=`var(${name})`;
				const code=document.createElement('code'); code.textContent=name;
				const val=document.createElement('div'); val.style.fontSize='.6rem'; val.textContent=v;
				d.append(chip,code,val); return d;
			}
			[...palette,...roles].forEach(t=>colorGrid.appendChild(cell(t)));
			const spacing=document.getElementById('spacing');
			['--size-spacing-2','--size-spacing-2-5','--size-spacing-3','--size-spacing-4','--size-spacing-6'].forEach(s=>{
				const d=document.createElement('div'); d.className='card';
				const bar=document.createElement('div'); bar.style.height='var('+s+')'; bar.style.width='100%'; bar.style.background='var(--color-role-accent-default)'; bar.style.borderRadius='var(--size-radius-md)';
				const code=document.createElement('code'); code.textContent=s;
				d.append(bar,code); spacing.appendChild(d);
			});
			// Accent override sliders
			const L=document.getElementById('ovL'), C=document.getElementById('ovC'), H=document.getElementById('ovH'), reset=document.getElementById('reset');
			function applyAccent(){
				const l=L.value, c=C.value, h=H.value;
				const base=`oklch(${l} ${c} ${h})`;
				root.style.setProperty('--color-role-accent-default', base);
				root.style.setProperty('--color-role-accent-hover', `color-mix(in oklch, ${base} 92%, black)`);
				// refresh color cards to reflect new values
				colorGrid.innerHTML=''; [...palette,...roles].forEach(t=>colorGrid.appendChild(cell(t)));
			}
			[L,C,H].forEach(i=>i.addEventListener('input', applyAccent));
			reset.addEventListener('click', ()=>{ L.value=0.62; C.value=0.18; H.value=260; ['--color-role-accent-default','--color-role-accent-hover'].forEach(v=>root.style.removeProperty(v)); colorGrid.innerHTML=''; [...palette,...roles].forEach(t=>colorGrid.appendChild(cell(t))); });
		</script>
	</body>
</html>
